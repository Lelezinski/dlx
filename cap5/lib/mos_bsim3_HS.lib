

*----------------------------------------------------------------------
*                           Process Variations
*----------------------------------------------------------------------
* TEMPLATE   : statistic_eldoN.t,v 2.0 2002/04/03 15:02:24
* PARAMETERS : statistic.dds,v 2.8 2002/06/04 11:44:06
* TRANSLATOR : ddspp.tcl,v 1.47 2001/09/11 08:03:16
* Translated by re11 on June 14, 2002
* PACKAGE    : modelString.tcl,v 1.13 2002/04/10 07:19:16
* PACKAGE    : statPackage.tcl,v 1.15 2001/11/26 16:05:19
*----------------------------------------------------------------------
* (C) Copyright STMicroelectronics
*     Unauthorized Reproduction and Communication Strictly Prohibited.
*----------------------------------------------------------------------


*----------------------------------------------------------------------
*                            MOSFET HIGH SPEED
*----------------------------------------------------------------------
* (C) Copyright STMicroelectronics
*     Unauthorized Reproduction and Communication Strictly Prohibited.
* TEMPLATE   : mos_bsim3_HS_eldoN.t,v 2.12 2002/06/14 12:42:46
* PARAMETERS : mos_bsim3_HS.dds,v 2.3 2002/06/14 09:12:21
* TRANSLATOR : ddspp.tcl,v 1.48 2002/06/19 09:12:40
* Translated by re11 on June 19, 2002
*----------------------------------------------------------------------


.lib moshs_TT

.param nsigma_nmoshs_dcjb  =  0
.param nsigma_nmoshs_dcjgate  =  0
.param nsigma_nmoshs_dcjsw  =  0
.param nsigma_nmoshs_djsdbr  =  0
.param nsigma_nmoshs_djsdgr  =  0
.param nsigma_nmoshs_djsdsr  =  0
.param nsigma_nmoshs_djsgbr  =  0
.param nsigma_nmoshs_djsggr  =  0
.param nsigma_nmoshs_djsgsr  =  0
.param nsigma_nmoshs_dmu  =  0
.param nsigma_nmoshs_drdsw  =  0
.param nsigma_nmoshs_dvarmaxrdsw  =  0
.param nsigma_nmoshs_dvarmaxu0  =  0
.param nsigma_nmoshs_nlx  =  0
.param nsigma_nmoshs_rbvdl  =  0
.param nsigma_nmoshs_rbvdr  =  0
.param nsigma_nmoshs_rbvgl  =  0
.param nsigma_nmoshs_rbvgr  =  0
.param nsigma_nmoshs_rbvsl  =  0
.param nsigma_nmoshs_rbvsr  =  0
.param nsigma_nmoshs_varmaxvth00  =  0
.param nsigma_nmoshs_vth0  =  0

.param nsigma_pmoshs_dcjb  =  0
.param nsigma_pmoshs_dcjgate  =  0
.param nsigma_pmoshs_dcjsw  =  0
.param nsigma_pmoshs_djsdbr  =  0
.param nsigma_pmoshs_djsdgr  =  0
.param nsigma_pmoshs_djsdsr  =  0
.param nsigma_pmoshs_djsgbr  =  0
.param nsigma_pmoshs_djsggr  =  0
.param nsigma_pmoshs_djsgsr  =  0
.param nsigma_pmoshs_dmu  =  0
.param nsigma_pmoshs_drdsw  =  0
.param nsigma_pmoshs_dvarmaxrdsw  =  0
.param nsigma_pmoshs_dvarmaxu0  =  0
.param nsigma_pmoshs_nlx  =  0
.param nsigma_pmoshs_prwb  =  0
.param nsigma_pmoshs_rbvdl  =  0
.param nsigma_pmoshs_rbvdr  =  0
.param nsigma_pmoshs_rbvgl  =  0
.param nsigma_pmoshs_rbvgr  =  0
.param nsigma_pmoshs_rbvsl  =  0
.param nsigma_pmoshs_rbvsr  =  0
.param nsigma_pmoshs_varmaxvth00  =  0
.param nsigma_pmoshs_vth0  =  0



.lib "mos_bsim3_HS.lib" moshs_PARAM
.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL
 
.endl moshs_TT


.lib moshs_FF

.param nsigma_nmoshs_dcjb  =  -2
.param nsigma_nmoshs_dcjgate  =  -2
.param nsigma_nmoshs_dcjsw  =  -2
.param nsigma_nmoshs_djsdbr  =  2
.param nsigma_nmoshs_djsdgr  =  2
.param nsigma_nmoshs_djsdsr  =  2
.param nsigma_nmoshs_djsgbr  =  2
.param nsigma_nmoshs_djsggr  =  2
.param nsigma_nmoshs_djsgsr  =  2
.param nsigma_nmoshs_dmu  =  2
.param nsigma_nmoshs_drdsw  =  -2
.param nsigma_nmoshs_dvarmaxrdsw  =  0
.param nsigma_nmoshs_dvarmaxu0  =  2
.param nsigma_nmoshs_nlx  =  -2
.param nsigma_nmoshs_rbvdl  =  0
.param nsigma_nmoshs_rbvdr  =  0
.param nsigma_nmoshs_rbvgl  =  0
.param nsigma_nmoshs_rbvgr  =  0
.param nsigma_nmoshs_rbvsl  =  0
.param nsigma_nmoshs_rbvsr  =  0
.param nsigma_nmoshs_varmaxvth00  =  0
.param nsigma_nmoshs_vth0  =  -2

.param nsigma_pmoshs_dcjb  =  -2
.param nsigma_pmoshs_dcjgate  =  -2
.param nsigma_pmoshs_dcjsw  =  -2
.param nsigma_pmoshs_djsdbr  =  2
.param nsigma_pmoshs_djsdgr  =  2
.param nsigma_pmoshs_djsdsr  =  2
.param nsigma_pmoshs_djsgbr  =  2
.param nsigma_pmoshs_djsggr  =  2
.param nsigma_pmoshs_djsgsr  =  2
.param nsigma_pmoshs_dmu  =  2
.param nsigma_pmoshs_drdsw  =  -2
.param nsigma_pmoshs_dvarmaxrdsw  =  0
.param nsigma_pmoshs_dvarmaxu0  =  -2
.param nsigma_pmoshs_nlx  =  -2
.param nsigma_pmoshs_prwb  =  2
.param nsigma_pmoshs_rbvdl  =  0
.param nsigma_pmoshs_rbvdr  =  0
.param nsigma_pmoshs_rbvgl  =  0
.param nsigma_pmoshs_rbvgr  =  0
.param nsigma_pmoshs_rbvsl  =  0
.param nsigma_pmoshs_rbvsr  =  0
.param nsigma_pmoshs_varmaxvth00  =  0
.param nsigma_pmoshs_vth0  =  2



.lib "mos_bsim3_HS.lib" moshs_PARAM
.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL
 
.endl moshs_FF


.lib moshs_SS

.param nsigma_nmoshs_dcjb  =  2
.param nsigma_nmoshs_dcjgate  =  2
.param nsigma_nmoshs_dcjsw  =  2
.param nsigma_nmoshs_djsdbr  =  -2
.param nsigma_nmoshs_djsdgr  =  -2
.param nsigma_nmoshs_djsdsr  =  -2
.param nsigma_nmoshs_djsgbr  =  -2
.param nsigma_nmoshs_djsggr  =  -2
.param nsigma_nmoshs_djsgsr  =  -2
.param nsigma_nmoshs_dmu  =  -2
.param nsigma_nmoshs_drdsw  =  2
.param nsigma_nmoshs_dvarmaxrdsw  =  0
.param nsigma_nmoshs_dvarmaxu0  =  -2
.param nsigma_nmoshs_nlx  =  2
.param nsigma_nmoshs_rbvdl  =  2
.param nsigma_nmoshs_rbvdr  =  2
.param nsigma_nmoshs_rbvgl  =  2
.param nsigma_nmoshs_rbvgr  =  2
.param nsigma_nmoshs_rbvsl  =  2
.param nsigma_nmoshs_rbvsr  =  2
.param nsigma_nmoshs_varmaxvth00  =  0
.param nsigma_nmoshs_vth0  =  2

.param nsigma_pmoshs_dcjb  =  2
.param nsigma_pmoshs_dcjgate  =  2
.param nsigma_pmoshs_dcjsw  =  2
.param nsigma_pmoshs_djsdbr  =  -2
.param nsigma_pmoshs_djsdgr  =  -2
.param nsigma_pmoshs_djsdsr  =  -2
.param nsigma_pmoshs_djsgbr  =  -2
.param nsigma_pmoshs_djsggr  =  -2
.param nsigma_pmoshs_djsgsr  =  -2
.param nsigma_pmoshs_dmu  =  -2
.param nsigma_pmoshs_drdsw  =  2
.param nsigma_pmoshs_dvarmaxrdsw  =  0
.param nsigma_pmoshs_dvarmaxu0  =  2
.param nsigma_pmoshs_nlx  =  2
.param nsigma_pmoshs_prwb  =  -2
.param nsigma_pmoshs_rbvdl  =  2
.param nsigma_pmoshs_rbvdr  =  2
.param nsigma_pmoshs_rbvgl  =  2
.param nsigma_pmoshs_rbvgr  =  2
.param nsigma_pmoshs_rbvsl  =  2
.param nsigma_pmoshs_rbvsr  =  2
.param nsigma_pmoshs_varmaxvth00  =  0
.param nsigma_pmoshs_vth0  =  -2



.lib "mos_bsim3_HS.lib" moshs_PARAM
.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL
 
.endl moshs_SS


.lib moshs_FFA

.param nsigma_nmoshs_dcjb  =  -2
.param nsigma_nmoshs_dcjgate  =  -2
.param nsigma_nmoshs_dcjsw  =  -2
.param nsigma_nmoshs_djsdbr  =  2
.param nsigma_nmoshs_djsdgr  =  2
.param nsigma_nmoshs_djsdsr  =  2
.param nsigma_nmoshs_djsgbr  =  2
.param nsigma_nmoshs_djsggr  =  2
.param nsigma_nmoshs_djsgsr  =  2
.param nsigma_nmoshs_dmu  =  3
.param nsigma_nmoshs_drdsw  =  -3
.param nsigma_nmoshs_dvarmaxrdsw  =  0
.param nsigma_nmoshs_dvarmaxu0  =  3
.param nsigma_nmoshs_nlx  =  -3
.param nsigma_nmoshs_rbvdl  =  0
.param nsigma_nmoshs_rbvdr  =  0
.param nsigma_nmoshs_rbvgl  =  0
.param nsigma_nmoshs_rbvgr  =  0
.param nsigma_nmoshs_rbvsl  =  0
.param nsigma_nmoshs_rbvsr  =  0
.param nsigma_nmoshs_varmaxvth00  =  0
.param nsigma_nmoshs_vth0  =  -3

.param nsigma_pmoshs_dcjb  =  -2
.param nsigma_pmoshs_dcjgate  =  -2
.param nsigma_pmoshs_dcjsw  =  -2
.param nsigma_pmoshs_djsdbr  =  2
.param nsigma_pmoshs_djsdgr  =  2
.param nsigma_pmoshs_djsdsr  =  2
.param nsigma_pmoshs_djsgbr  =  2
.param nsigma_pmoshs_djsggr  =  2
.param nsigma_pmoshs_djsgsr  =  2
.param nsigma_pmoshs_dmu  =  3
.param nsigma_pmoshs_drdsw  =  -3
.param nsigma_pmoshs_dvarmaxrdsw  =  0
.param nsigma_pmoshs_dvarmaxu0  =  -3
.param nsigma_pmoshs_nlx  =  -3
.param nsigma_pmoshs_prwb  =  3
.param nsigma_pmoshs_rbvdl  =  0
.param nsigma_pmoshs_rbvdr  =  0
.param nsigma_pmoshs_rbvgl  =  0
.param nsigma_pmoshs_rbvgr  =  0
.param nsigma_pmoshs_rbvsl  =  0
.param nsigma_pmoshs_rbvsr  =  0
.param nsigma_pmoshs_varmaxvth00  =  0
.param nsigma_pmoshs_vth0  =  3



.lib "mos_bsim3_HS.lib" moshs_PARAM
.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL
 
.endl moshs_FFA


.lib moshs_SSA

.param nsigma_nmoshs_dcjb  =  2
.param nsigma_nmoshs_dcjgate  =  2
.param nsigma_nmoshs_dcjsw  =  2
.param nsigma_nmoshs_djsdbr  =  -2
.param nsigma_nmoshs_djsdgr  =  -2
.param nsigma_nmoshs_djsdsr  =  -2
.param nsigma_nmoshs_djsgbr  =  -2
.param nsigma_nmoshs_djsggr  =  -2
.param nsigma_nmoshs_djsgsr  =  -2
.param nsigma_nmoshs_dmu  =  -3
.param nsigma_nmoshs_drdsw  =  3
.param nsigma_nmoshs_dvarmaxrdsw  =  0
.param nsigma_nmoshs_dvarmaxu0  =  -3
.param nsigma_nmoshs_nlx  =  3
.param nsigma_nmoshs_rbvdl  =  2
.param nsigma_nmoshs_rbvdr  =  2
.param nsigma_nmoshs_rbvgl  =  2
.param nsigma_nmoshs_rbvgr  =  2
.param nsigma_nmoshs_rbvsl  =  2
.param nsigma_nmoshs_rbvsr  =  2
.param nsigma_nmoshs_varmaxvth00  =  0
.param nsigma_nmoshs_vth0  =  3

.param nsigma_pmoshs_dcjb  =  2
.param nsigma_pmoshs_dcjgate  =  2
.param nsigma_pmoshs_dcjsw  =  2
.param nsigma_pmoshs_djsdbr  =  -2
.param nsigma_pmoshs_djsdgr  =  -2
.param nsigma_pmoshs_djsdsr  =  -2
.param nsigma_pmoshs_djsgbr  =  -2
.param nsigma_pmoshs_djsggr  =  -2
.param nsigma_pmoshs_djsgsr  =  -2
.param nsigma_pmoshs_dmu  =  -3
.param nsigma_pmoshs_drdsw  =  3
.param nsigma_pmoshs_dvarmaxrdsw  =  0
.param nsigma_pmoshs_dvarmaxu0  =  3
.param nsigma_pmoshs_nlx  =  3
.param nsigma_pmoshs_prwb  =  -3
.param nsigma_pmoshs_rbvdl  =  2
.param nsigma_pmoshs_rbvdr  =  2
.param nsigma_pmoshs_rbvgl  =  2
.param nsigma_pmoshs_rbvgr  =  2
.param nsigma_pmoshs_rbvsl  =  2
.param nsigma_pmoshs_rbvsr  =  2
.param nsigma_pmoshs_varmaxvth00  =  0
.param nsigma_pmoshs_vth0  =  -3



.lib "mos_bsim3_HS.lib" moshs_PARAM
.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL
 
.endl moshs_SSA


.lib moshs_FS

.param nsigma_nmoshs_dcjb  =  -2
.param nsigma_nmoshs_dcjgate  =  -2
.param nsigma_nmoshs_dcjsw  =  -2
.param nsigma_nmoshs_djsdbr  =  0
.param nsigma_nmoshs_djsdgr  =  0
.param nsigma_nmoshs_djsdsr  =  0
.param nsigma_nmoshs_djsgbr  =  0
.param nsigma_nmoshs_djsggr  =  0
.param nsigma_nmoshs_djsgsr  =  0
.param nsigma_nmoshs_dmu  =  0
.param nsigma_nmoshs_drdsw  =  0
.param nsigma_nmoshs_dvarmaxrdsw  =  0
.param nsigma_nmoshs_dvarmaxu0  =  3
.param nsigma_nmoshs_nlx  =  0
.param nsigma_nmoshs_rbvdl  =  0
.param nsigma_nmoshs_rbvdr  =  0
.param nsigma_nmoshs_rbvgl  =  0
.param nsigma_nmoshs_rbvgr  =  0
.param nsigma_nmoshs_rbvsl  =  0
.param nsigma_nmoshs_rbvsr  =  0
.param nsigma_nmoshs_varmaxvth00  =  0
.param nsigma_nmoshs_vth0  =  -4

.param nsigma_pmoshs_dcjb  =  2
.param nsigma_pmoshs_dcjgate  =  2
.param nsigma_pmoshs_dcjsw  =  2
.param nsigma_pmoshs_djsdbr  =  0
.param nsigma_pmoshs_djsdgr  =  0
.param nsigma_pmoshs_djsdsr  =  0
.param nsigma_pmoshs_djsgbr  =  0
.param nsigma_pmoshs_djsggr  =  0
.param nsigma_pmoshs_djsgsr  =  0
.param nsigma_pmoshs_dmu  =  0
.param nsigma_pmoshs_drdsw  =  0
.param nsigma_pmoshs_dvarmaxrdsw  =  0
.param nsigma_pmoshs_dvarmaxu0  =  3
.param nsigma_pmoshs_nlx  =  0
.param nsigma_pmoshs_prwb  =  0
.param nsigma_pmoshs_rbvdl  =  0
.param nsigma_pmoshs_rbvdr  =  0
.param nsigma_pmoshs_rbvgl  =  0
.param nsigma_pmoshs_rbvgr  =  0
.param nsigma_pmoshs_rbvsl  =  0
.param nsigma_pmoshs_rbvsr  =  0
.param nsigma_pmoshs_varmaxvth00  =  0
.param nsigma_pmoshs_vth0  =  -4



.lib "mos_bsim3_HS.lib" moshs_PARAM
.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL
 
.endl moshs_FS


.lib moshs_SF

.param nsigma_nmoshs_dcjb  =  2
.param nsigma_nmoshs_dcjgate  =  2
.param nsigma_nmoshs_dcjsw  =  2
.param nsigma_nmoshs_djsdbr  =  0
.param nsigma_nmoshs_djsdgr  =  0
.param nsigma_nmoshs_djsdsr  =  0
.param nsigma_nmoshs_djsgbr  =  0
.param nsigma_nmoshs_djsggr  =  0
.param nsigma_nmoshs_djsgsr  =  0
.param nsigma_nmoshs_dmu  =  0
.param nsigma_nmoshs_drdsw  =  0
.param nsigma_nmoshs_dvarmaxrdsw  =  0
.param nsigma_nmoshs_dvarmaxu0  =  -3
.param nsigma_nmoshs_nlx  =  0
.param nsigma_nmoshs_rbvdl  =  0
.param nsigma_nmoshs_rbvdr  =  0
.param nsigma_nmoshs_rbvgl  =  0
.param nsigma_nmoshs_rbvgr  =  0
.param nsigma_nmoshs_rbvsl  =  0
.param nsigma_nmoshs_rbvsr  =  0
.param nsigma_nmoshs_varmaxvth00  =  0
.param nsigma_nmoshs_vth0  =  4

.param nsigma_pmoshs_dcjb  =  -2
.param nsigma_pmoshs_dcjgate  =  -2
.param nsigma_pmoshs_dcjsw  =  -2
.param nsigma_pmoshs_djsdbr  =  0
.param nsigma_pmoshs_djsdgr  =  0
.param nsigma_pmoshs_djsdsr  =  0
.param nsigma_pmoshs_djsgbr  =  0
.param nsigma_pmoshs_djsggr  =  0
.param nsigma_pmoshs_djsgsr  =  0
.param nsigma_pmoshs_dmu  =  0
.param nsigma_pmoshs_drdsw  =  0
.param nsigma_pmoshs_dvarmaxrdsw  =  0
.param nsigma_pmoshs_dvarmaxu0  =  -3
.param nsigma_pmoshs_nlx  =  0
.param nsigma_pmoshs_prwb  =  0
.param nsigma_pmoshs_rbvdl  =  0
.param nsigma_pmoshs_rbvdr  =  0
.param nsigma_pmoshs_rbvgl  =  0
.param nsigma_pmoshs_rbvgr  =  0
.param nsigma_pmoshs_rbvsl  =  0
.param nsigma_pmoshs_rbvsr  =  0
.param nsigma_pmoshs_varmaxvth00  =  0
.param nsigma_pmoshs_vth0  =  4



.lib "mos_bsim3_HS.lib" moshs_PARAM
.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL
 
.endl moshs_SF


.lib moshs_FSA

.param nsigma_nmoshs_dcjb  =  -2
.param nsigma_nmoshs_dcjgate  =  -2
.param nsigma_nmoshs_dcjsw  =  -2
.param nsigma_nmoshs_djsdbr  =  0
.param nsigma_nmoshs_djsdgr  =  0
.param nsigma_nmoshs_djsdsr  =  0
.param nsigma_nmoshs_djsgbr  =  0
.param nsigma_nmoshs_djsggr  =  0
.param nsigma_nmoshs_djsgsr  =  0
.param nsigma_nmoshs_dmu  =  0
.param nsigma_nmoshs_drdsw  =  0
.param nsigma_nmoshs_dvarmaxrdsw  =  0
.param nsigma_nmoshs_dvarmaxu0  =  4
.param nsigma_nmoshs_nlx  =  0
.param nsigma_nmoshs_rbvdl  =  0
.param nsigma_nmoshs_rbvdr  =  0
.param nsigma_nmoshs_rbvgl  =  0
.param nsigma_nmoshs_rbvgr  =  0
.param nsigma_nmoshs_rbvsl  =  0
.param nsigma_nmoshs_rbvsr  =  0
.param nsigma_nmoshs_varmaxvth00  =  0
.param nsigma_nmoshs_vth0  =  -6

.param nsigma_pmoshs_dcjb  =  2
.param nsigma_pmoshs_dcjgate  =  2
.param nsigma_pmoshs_dcjsw  =  2
.param nsigma_pmoshs_djsdbr  =  0
.param nsigma_pmoshs_djsdgr  =  0
.param nsigma_pmoshs_djsdsr  =  0
.param nsigma_pmoshs_djsgbr  =  0
.param nsigma_pmoshs_djsggr  =  0
.param nsigma_pmoshs_djsgsr  =  0
.param nsigma_pmoshs_dmu  =  0
.param nsigma_pmoshs_drdsw  =  0
.param nsigma_pmoshs_dvarmaxrdsw  =  0
.param nsigma_pmoshs_dvarmaxu0  =  4
.param nsigma_pmoshs_nlx  =  0
.param nsigma_pmoshs_prwb  =  0
.param nsigma_pmoshs_rbvdl  =  0
.param nsigma_pmoshs_rbvdr  =  0
.param nsigma_pmoshs_rbvgl  =  0
.param nsigma_pmoshs_rbvgr  =  0
.param nsigma_pmoshs_rbvsl  =  0
.param nsigma_pmoshs_rbvsr  =  0
.param nsigma_pmoshs_varmaxvth00  =  0
.param nsigma_pmoshs_vth0  =  -6



.lib "mos_bsim3_HS.lib" moshs_PARAM
.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL
 
.endl moshs_FSA


.lib moshs_SFA

.param nsigma_nmoshs_dcjb  =  2
.param nsigma_nmoshs_dcjgate  =  2
.param nsigma_nmoshs_dcjsw  =  2
.param nsigma_nmoshs_djsdbr  =  0
.param nsigma_nmoshs_djsdgr  =  0
.param nsigma_nmoshs_djsdsr  =  0
.param nsigma_nmoshs_djsgbr  =  0
.param nsigma_nmoshs_djsggr  =  0
.param nsigma_nmoshs_djsgsr  =  0
.param nsigma_nmoshs_dmu  =  0
.param nsigma_nmoshs_drdsw  =  0
.param nsigma_nmoshs_dvarmaxrdsw  =  0
.param nsigma_nmoshs_dvarmaxu0  =  -4
.param nsigma_nmoshs_nlx  =  0
.param nsigma_nmoshs_rbvdl  =  0
.param nsigma_nmoshs_rbvdr  =  0
.param nsigma_nmoshs_rbvgl  =  0
.param nsigma_nmoshs_rbvgr  =  0
.param nsigma_nmoshs_rbvsl  =  0
.param nsigma_nmoshs_rbvsr  =  0
.param nsigma_nmoshs_varmaxvth00  =  0
.param nsigma_nmoshs_vth0  =  6

.param nsigma_pmoshs_dcjb  =  -2
.param nsigma_pmoshs_dcjgate  =  -2
.param nsigma_pmoshs_dcjsw  =  -2
.param nsigma_pmoshs_djsdbr  =  0
.param nsigma_pmoshs_djsdgr  =  0
.param nsigma_pmoshs_djsdsr  =  0
.param nsigma_pmoshs_djsgbr  =  0
.param nsigma_pmoshs_djsggr  =  0
.param nsigma_pmoshs_djsgsr  =  0
.param nsigma_pmoshs_dmu  =  0
.param nsigma_pmoshs_drdsw  =  0
.param nsigma_pmoshs_dvarmaxrdsw  =  0
.param nsigma_pmoshs_dvarmaxu0  =  -4
.param nsigma_pmoshs_nlx  =  0
.param nsigma_pmoshs_prwb  =  0
.param nsigma_pmoshs_rbvdl  =  0
.param nsigma_pmoshs_rbvdr  =  0
.param nsigma_pmoshs_rbvgl  =  0
.param nsigma_pmoshs_rbvgr  =  0
.param nsigma_pmoshs_rbvsl  =  0
.param nsigma_pmoshs_rbvsr  =  0
.param nsigma_pmoshs_varmaxvth00  =  0
.param nsigma_pmoshs_vth0  =  6



.lib "mos_bsim3_HS.lib" moshs_PARAM
.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL
 
.endl moshs_SFA

.lib moshs_PARAM


*----------------------------------------------
*                   nmoshs 
*----------------------------------------------
.param nmoshs_vth0 = {0.227+0.5*0.015*nsigma_nmoshs_vth0}
.param nmoshs_nlx = {8.5e-8+0.5*8.5e-9*nsigma_nmoshs_nlx}
.param nmoshs_dmu = {0.0+0.5*5e-2*nsigma_nmoshs_dmu}
.param nmoshs_drdsw = {0.0+0.5*5e-2*nsigma_nmoshs_drdsw}
.param nmoshs_dcjb = {0.0+0.5*10e-2*nsigma_nmoshs_dcjb}
.param nmoshs_dcjgate = {0.0+0.5*20e-2*nsigma_nmoshs_dcjgate}
.param nmoshs_dcjsw = {0.0+0.5*20e-2*nsigma_nmoshs_dcjsw}
.param nmoshs_djsdbr = {0.0+0.5*1*nsigma_nmoshs_djsdbr}
.param nmoshs_djsdgr = {0.0+0.5*1*nsigma_nmoshs_djsdgr}
.param nmoshs_djsdsr = {0.0+0.5*1*nsigma_nmoshs_djsdsr}
.param nmoshs_djsgbr = {0.0+0.5*1*nsigma_nmoshs_djsgbr}
.param nmoshs_djsggr = {0.0+0.5*1*nsigma_nmoshs_djsggr}
.param nmoshs_djsgsr = {0.0+0.5*1*nsigma_nmoshs_djsgsr}
.param nmoshs_varmaxvth00 = {0.0+0.5*0.0*nsigma_nmoshs_varmaxvth00}
.param nmoshs_dvarmaxu0 = {0.0+0.5*0.33*nsigma_nmoshs_dvarmaxu0}
.param nmoshs_dvarmaxrdsw = {0.0+0.5*0.0*nsigma_nmoshs_dvarmaxrdsw}
.param nmoshs_rbvdr = {1364+0.5*409.2*nsigma_nmoshs_rbvdr}
.param nmoshs_rbvdl = {5544+0.5*1663.2*nsigma_nmoshs_rbvdl}
.param nmoshs_rbvsr = {1364+0.5*409.2*nsigma_nmoshs_rbvsr}
.param nmoshs_rbvsl = {5544+0.5*1663.2*nsigma_nmoshs_rbvsl}
.param nmoshs_rbvgr = {3304+0.5*991.2*nsigma_nmoshs_rbvgr}
.param nmoshs_rbvgl = {2576+0.5*772.8*nsigma_nmoshs_rbvgl}


*----------------------------------------------
*                   pmoshs 
*----------------------------------------------
.param pmoshs_vth0 = {-0.20825+0.5*0.015*nsigma_pmoshs_vth0}
.param pmoshs_nlx = {8.5014e-8+0.5*8.5014e-9*nsigma_pmoshs_nlx}
.param pmoshs_dmu = {0.0+0.5*5e-2*nsigma_pmoshs_dmu}
.param pmoshs_drdsw = {0.0+0.5*5e-2*nsigma_pmoshs_drdsw}
.param pmoshs_dcjb = {0.0+0.5*10e-2*nsigma_pmoshs_dcjb}
.param pmoshs_dcjgate = {0.0+0.5*20e-2*nsigma_pmoshs_dcjgate}
.param pmoshs_dcjsw = {0.0+0.5*20e-2*nsigma_pmoshs_dcjsw}
.param pmoshs_djsdbr = {0.0+0.5*1*nsigma_pmoshs_djsdbr}
.param pmoshs_djsdgr = {0.0+0.5*1*nsigma_pmoshs_djsdgr}
.param pmoshs_djsdsr = {0.0+0.5*1*nsigma_pmoshs_djsdsr}
.param pmoshs_djsgbr = {0.0+0.5*1*nsigma_pmoshs_djsgbr}
.param pmoshs_djsggr = {0.0+0.5*1*nsigma_pmoshs_djsggr}
.param pmoshs_djsgsr = {0.0+0.5*1*nsigma_pmoshs_djsgsr}
.param pmoshs_varmaxvth00 = {0.0+0.5*0.0*nsigma_pmoshs_varmaxvth00}
.param pmoshs_dvarmaxu0 = {0.0+0.5*0.33*nsigma_pmoshs_dvarmaxu0}
.param pmoshs_dvarmaxrdsw = {0.0+0.5*0.0*nsigma_pmoshs_dvarmaxrdsw}
.param pmoshs_prwb = {-0.8+0.5*0.133*nsigma_pmoshs_prwb}
.param pmoshs_rbvdr = {216+0.5*64.8*nsigma_pmoshs_rbvdr}
.param pmoshs_rbvdl = {2916+0.5*874.8*nsigma_pmoshs_rbvdl}
.param pmoshs_rbvsr = {216+0.5*64.8*nsigma_pmoshs_rbvsr}
.param pmoshs_rbvsl = {2916+0.5*874.8*nsigma_pmoshs_rbvsl}
.param pmoshs_rbvgr = {864+0.5*259.2*nsigma_pmoshs_rbvgr}
.param pmoshs_rbvgl = {1360+0.5*408*nsigma_pmoshs_rbvgl}


.endl moshs_PARAM

.lib moshs_stat

*----------------------------------------------
*                   nmoshs 
*----------------------------------------------
.PARAM nmoshs_vth0 = 0.227 LOT/uniform={0.015}
.PARAM nmoshs_nlx = 8.5e-8 LOT/uniform={8.5e-9}
.PARAM nmoshs_dmu = 0.0 LOT/uniform={5e-2}
.PARAM nmoshs_drdsw = 0.0 LOT/uniform={5e-2}
.PARAM nmoshs_dcjb = 0.0 LOT/uniform={10e-2}
.PARAM nmoshs_dcjgate = 0.0 LOT/uniform={20e-2}
.PARAM nmoshs_dcjsw = 0.0 LOT/uniform={20e-2}
.PARAM nmoshs_djsdbr = 0.0 LOT/uniform={1}
.PARAM nmoshs_djsdgr = 0.0 LOT/uniform={1}
.PARAM nmoshs_djsdsr = 0.0 LOT/uniform={1}
.PARAM nmoshs_djsgbr = 0.0 LOT/uniform={1}
.PARAM nmoshs_djsggr = 0.0 LOT/uniform={1}
.PARAM nmoshs_djsgsr = 0.0 LOT/uniform={1}
.PARAM nmoshs_varmaxvth00 = 0.0 LOT/uniform={0.0}
.PARAM nmoshs_dvarmaxu0 = 0.0 LOT/uniform={0.33}
.PARAM nmoshs_dvarmaxrdsw = 0.0 LOT/uniform={0.0}
.PARAM nmoshs_rbvdr = 1364 LOT/uniform={409.2}
.PARAM nmoshs_rbvdl = 5544 LOT/uniform={1663.2}
.PARAM nmoshs_rbvsr = 1364 LOT/uniform={409.2}
.PARAM nmoshs_rbvsl = 5544 LOT/uniform={1663.2}
.PARAM nmoshs_rbvgr = 3304 LOT/uniform={991.2}
.PARAM nmoshs_rbvgl = 2576 LOT/uniform={772.8}

*----------------------------------------------
*                   pmoshs 
*----------------------------------------------
.PARAM pmoshs_vth0 = -0.20825 LOT/uniform={0.015}
.PARAM pmoshs_nlx = 8.5014e-8 LOT/uniform={8.5014e-9}
.PARAM pmoshs_dmu = 0.0 LOT/uniform={5e-2}
.PARAM pmoshs_drdsw = 0.0 LOT/uniform={5e-2}
.PARAM pmoshs_dcjb = 0.0 LOT/uniform={10e-2}
.PARAM pmoshs_dcjgate = 0.0 LOT/uniform={20e-2}
.PARAM pmoshs_dcjsw = 0.0 LOT/uniform={20e-2}
.PARAM pmoshs_djsdbr = 0.0 LOT/uniform={1}
.PARAM pmoshs_djsdgr = 0.0 LOT/uniform={1}
.PARAM pmoshs_djsdsr = 0.0 LOT/uniform={1}
.PARAM pmoshs_djsgbr = 0.0 LOT/uniform={1}
.PARAM pmoshs_djsggr = 0.0 LOT/uniform={1}
.PARAM pmoshs_djsgsr = 0.0 LOT/uniform={1}
.PARAM pmoshs_varmaxvth00 = 0.0 LOT/uniform={0.0}
.PARAM pmoshs_dvarmaxu0 = 0.0 LOT/uniform={0.33}
.PARAM pmoshs_dvarmaxrdsw = 0.0 LOT/uniform={0.0}
.PARAM pmoshs_prwb = -0.8 LOT/uniform={0.133}
.PARAM pmoshs_rbvdr = 216 LOT/uniform={64.8}
.PARAM pmoshs_rbvdl = 2916 LOT/uniform={874.8}
.PARAM pmoshs_rbvsr = 216 LOT/uniform={64.8}
.PARAM pmoshs_rbvsl = 2916 LOT/uniform={874.8}
.PARAM pmoshs_rbvgr = 864 LOT/uniform={259.2}
.PARAM pmoshs_rbvgl = 1360 LOT/uniform={408}


.lib "mos_bsim3_HS.lib" moshs_CORREL
.lib "mos_bsim3_HS.lib" moshs_MODEL

.endl moshs_stat

.lib moshs_CORREL

*----------------------------------------------
*                   nmoshs 
*----------------------------------------------
.param nmoshs_xl = poly_cdvar
.param nmoshs_xw = active_cdvar+3e-8
.param nmoshs_tox = go1_toxn
.param nmoshs_dcfring = go1_dcfring
.param nmoshs_prwb = -0.12
.param nmoshs_rshg = npoly_rsh
.param nmoshs_rconpo = npoly_rsc

*----------------------------------------------
*                   pmoshs 
*----------------------------------------------
.param pmoshs_xl = poly_cdvar
.param pmoshs_xw = active_cdvar
.param pmoshs_tox = go1_toxp
.param pmoshs_dcfring = go1_dcfring
.param pmoshs_rshg = ppoly_rsh
.param pmoshs_rconpo = ppoly_rsc


.endl moshs_CORREL
.lib moshs_MODEL

*----------------------------------------------------------------------
* Family nmoshs Model ENHSGP_BS3JU bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt ENHSGP_BS3JU D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+nmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fd*(1.5e-07+nmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fs*(1.5e-07+nmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fd*(wfing+2*1.5e-07+nmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fs*(wfing+2*1.5e-07+nmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 297.991
.param u0s     = 239.72
.param lint    = 1.46404e-08
.param lmin    = 0.13e-6
.param dwu0    = -0.0721
.param wint    = 2.23e-08


*  
.param  cjbr   = 0.00085803
.param  cjgr   = 2.921e-10
.param  cjsr   = 6.7342e-11
.param  jsdbr  = 1.3181e-07
.param  jsdgr  = 0
.param  jsdsr  = 2.2436e-14
.param  jsgbr  = 9e-06
.param  jsggr  = 4.1751e-11
.param  jsgsr  = 3.1654e-11
 

*
* variant parameters:
*--------------------
.param xl      = nmoshs_xl
.param xw      = nmoshs_xw
.param tox     = nmoshs_tox
.param vth     = nmoshs_vth0
.param nlx     = nmoshs_nlx
.param drdsw   = nmoshs_drdsw
.param dmu     = nmoshs_dmu


.param dcjb    = nmoshs_dcjb
.param dcjgate = nmoshs_dcjgate
.param dcjsw   = nmoshs_dcjsw
.param djsdbr  = nmoshs_djsdbr
.param djsdgr  = nmoshs_djsdgr
.param djsdsr  = nmoshs_djsdsr
.param djsgbr  = nmoshs_djsgbr
.param djsggr  = nmoshs_djsggr
.param djsgsr  = nmoshs_djsgsr
.param prwb    = nmoshs_prwb

.param dcfring = nmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.00e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,1.32e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,1.33))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.2241808e-06-xl} 
.param wlimit = {1e-06-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.94459e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.326605-(0.227-vth)/sqrt(phis)}
.param  vth0  =  {vth+dvth0_dev} 

.param  nch   =  {6.94459e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.326605*0.326605)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {145*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {5.07e-10*(2.35e-09/tox)}
.param  cgdl  =  {5.07e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {-1.29442e-08+(3e-08-xw)}


.param k3 = {-6.715*(2.35e-09/tox)}
.param dvt0 = 2.13851


.param  k3b   =  {1.9818951*(2.35e-09/tox)}
.param  lk3   =  {0.495*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketaexp = {valif((1.0e-6/le-1.0/0.2)/0.9161597 > 34, 34, (1.0e-6/le-1.0/0.2)/0.9161597)}
.param lketa    = {-0.0394231/(1.0+exp(lketaexp))} 




M1 D G S B NHS w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL NHS nmos
+ level=53
+ version=3.2           nqsmod=0              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=2              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.46404e-08      
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=2.23e-08         
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-9e-09            
+ dwb=0                 nch=nch               ngate=3e+20           
+ xj=1e-07              u0=u0eff              vth0=vth0eff          
+ k1=k1                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               pnlx=0                dvt0=dvt0             
+ dvt1=0.887934         dvt2=-0.018588        dvt0w=0.25            
+ dvt1w=1.45541e+06     dvt2w=-0.000282805    ua=-6.26635e-10       
+ ub=1.64683e-18        uc=-1.66223e-10       delta=0.00374596      
+ rdsw=rdsweff          prwg=0                prwb=prwb             
+ wr=1                  vsat=95356.1          a0=1.65               
+ la0=-0.122025         keta=-0.0120587       lketa=lketa           
+ ags=0.646592          a1=0                  a2=1                  
+ b0=0                  b1=0                  alpha0=0              
+ beta0=12.0493         lbeta0=-0.220056      voff=-0.098851        
+ lvoff=-0.0028         nfactor=0.94337       cdsc=0.0188           
+ cdscb=0               cdscd=0               cit=0                 
+ eta0=0.018865         etab=-0.00360131      dsub=0.128834         
+ drout=1.1             pclm=0.67609          pdiblc1=0.00444391    
+ pdiblc2=0.00238149    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.00710791       ute=-1.64             
+ at=43500              ua1=8.37223e-10       ub1=-2.00845e-18      
+ uc1=1.34214e-10       kt1=-0.235            kt1l=9.10674e-10      
+ kt2=-0.035027         prt=-50               cgsl=cgsl             
+ cgdl=cgdl             ckappa=4.78743        cf=cf                 
+ clc=1e-07             cle=0.6               dlc=2.07e-08          
+ dwc=2.23e-08          noff=2.1              voffcv=-0.09          
+ alpha1=0.111727       acde=0.6              moin=6                
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=5e+09              
+ noia=5e+20            noib=200000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.52286          vdsr=0.42697          
+ vdgr=1                pb=0.20582            ps=0.44445            
+ pg=0.6358              nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends ENHSGP_BS3JU


*----------------------------------------------------------------------
* Family nmoshs Model ENHSGP_BS3JULEAK bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt ENHSGP_BS3JULEAK D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+nmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fd*(1.5e-07+nmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fs*(1.5e-07+nmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fd*(wfing+2*1.5e-07+nmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fs*(wfing+2*1.5e-07+nmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 297.991
.param u0s     = 239.72
.param lint    = 1.46404e-08
.param lmin    = 0.13e-6
.param dwu0    = -0.0721
.param wint    = 2.23e-08


*  
.param  cjbr   = 0.00085803
.param  cjgr   = 2.921e-10
.param  cjsr   = 6.7342e-11
.param  jsdbr  = 1.3181e-07
.param  jsdgr  = 0
.param  jsdsr  = 2.2436e-14
.param  jsgbr  = 9e-06
.param  jsggr  = 4.1751e-11
.param  jsgsr  = 3.1654e-11
 

*
* variant parameters:
*--------------------
.param xl      = nmoshs_xl
.param xw      = nmoshs_xw
.param tox     = nmoshs_tox
.param vth     = nmoshs_vth0
.param nlx     = nmoshs_nlx
.param drdsw   = nmoshs_drdsw
.param dmu     = nmoshs_dmu


.param dcjb    = nmoshs_dcjb
.param dcjgate = nmoshs_dcjgate
.param dcjsw   = nmoshs_dcjsw
.param djsdbr  = nmoshs_djsdbr
.param djsdgr  = nmoshs_djsdgr
.param djsdsr  = nmoshs_djsdsr
.param djsgbr  = nmoshs_djsgbr
.param djsggr  = nmoshs_djsggr
.param djsgsr  = nmoshs_djsgsr
.param prwb    = nmoshs_prwb

.param dcfring = nmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.00e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,1.32e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,1.33))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.2241808e-06-xl} 
.param wlimit = {1e-06-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.94459e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.326605-(0.227-vth)/sqrt(phis)}
.param  vth0  =  {vth+dvth0_dev} 

.param  nch   =  {6.94459e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.326605*0.326605)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {145*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {5.07e-10*(2.35e-09/tox)}
.param  cgdl  =  {5.07e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {-1.29442e-08+(3e-08-xw)}


.param k3 = {-6.715*(2.35e-09/tox)}
.param dvt0 = 2.13851


.param  k3b   =  {1.9818951*(2.35e-09/tox)}
.param  lk3   =  {0.495*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketaexp = {valif((1.0e-6/le-1.0/0.2)/0.9161597 > 34, 34, (1.0e-6/le-1.0/0.2)/0.9161597)}
.param lketa    = {-0.0394231/(1.0+exp(lketaexp))} 



* Equations for Igate:
*--------------------


.param wpoly     = {number*(w+xw)}
.param lpoly     = {l+xl}
.param dvd    = -0.015
.param toxratio = {exp(32.4*log(2.1e-9/tox))}
.param bb     = {(7.35e6)*log(lpoly)*log(lpoly)+(1.26e8)*log(lpoly)+(-6.65e8)}
.param vara1  = {toxratio*((7.48e-14)*lpoly*lpoly+(2.45e-15)*lpoly+(1.99e-22))}
.param bbn    = {(0)*log(lpoly)*log(lpoly)+(0)*log(lpoly)+(-3.82e8)}
.param vara1n = {toxratio*((0)*lpoly*lpoly+(0)*lpoly+(1.37e-22))}
	
gigd g d1 value={(vara1*wpoly*(abs(v(g,d1))+v(g,d1))/2.0*v(g,d1)*exp(-bb*tox*log(1e-18+abs(v(g,d1))))/(tox*tox)+1e-18*v(g,d1))
+ + (vara1n*wpoly*(abs(v(g,d1))-v(g,d1))/2.0*v(g,d1)*exp(-bbn*tox*log(1e-18+abs(v(g,d1))))/(tox*tox)+1e-18*v(g,d1))}

eigd d1 d value={dvd*(abs(v(d,s))+v(d,s))/2.0}

gigs g s1 value={ (vara1*wpoly*(abs(v(g,s1))+v(g,s1))/2.0*v(g,s1)*exp(-bb*tox*log(1e-18+abs(v(g,s1))))/(tox*tox)+1e-18*v(g,s1))
+ + (vara1n*wpoly*(abs(v(g,s1))-v(g,s1))/2.0*v(g,s1)*exp(-bbn*tox*log(1e-18+abs(v(g,s1))))/(tox*tox)+1e-18*v(g,s1))}

eigs s1 s value={dvd*(abs(v(s,d))+v(s,d))/2.0}




* Equations for GIDL:
*--------------------




M1 D G S B NHSLEAK w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL NHSLEAK nmos
+ level=53
+ version=3.2           nqsmod=0              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=2              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.46404e-08      
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=2.23e-08         
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-9e-09            
+ dwb=0                 nch=nch               ngate=3e+20           
+ xj=1e-07              u0=u0eff              vth0=vth0eff          
+ k1=k1                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               pnlx=0                dvt0=dvt0             
+ dvt1=0.887934         dvt2=-0.018588        dvt0w=0.25            
+ dvt1w=1.45541e+06     dvt2w=-0.000282805    ua=-6.26635e-10       
+ ub=1.64683e-18        uc=-1.66223e-10       delta=0.00374596      
+ rdsw=rdsweff          prwg=0                prwb=prwb             
+ wr=1                  vsat=95356.1          a0=1.65               
+ la0=-0.122025         keta=-0.0120587       lketa=lketa           
+ ags=0.646592          a1=0                  a2=1                  
+ b0=0                  b1=0                  alpha0=0              
+ beta0=12.0493         lbeta0=-0.220056      voff=-0.098851        
+ lvoff=-0.0028         nfactor=0.94337       cdsc=0.0188           
+ cdscb=0               cdscd=0               cit=0                 
+ eta0=0.018865         etab=-0.00360131      dsub=0.128834         
+ drout=1.1             pclm=0.67609          pdiblc1=0.00444391    
+ pdiblc2=0.00238149    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.00710791       ute=-1.64             
+ at=43500              ua1=8.37223e-10       ub1=-2.00845e-18      
+ uc1=1.34214e-10       kt1=-0.235            kt1l=9.10674e-10      
+ kt2=-0.035027         prt=-50               cgsl=cgsl             
+ cgdl=cgdl             ckappa=4.78743        cf=cf                 
+ clc=1e-07             cle=0.6               dlc=2.07e-08          
+ dwc=2.23e-08          noff=2.1              voffcv=-0.09          
+ alpha1=0.111727       acde=0.6              moin=6                
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=5e+09              
+ noia=5e+20            noib=200000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.52286          vdsr=0.42697          
+ vdgr=1                pb=0.20582            ps=0.44445            
+ pg=0.6358              nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends ENHSGP_BS3JULEAK


*----------------------------------------------------------------------
* Family nmoshs Model ENHSGP_BS3JURG bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt ENHSGP_BS3JURG D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+nmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fd*(1.5e-07+nmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fs*(1.5e-07+nmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fd*(wfing+2*1.5e-07+nmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fs*(wfing+2*1.5e-07+nmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 297.991
.param u0s     = 239.72
.param lint    = 1.46404e-08
.param lmin    = 0.13e-6
.param dwu0    = -0.0721
.param wint    = 2.23e-08

.param coepo   = 0.07e-6
.param ncrg    = 2


*  
.param  cjbr   = 0.00085803
.param  cjgr   = 2.921e-10
.param  cjsr   = 6.7342e-11
.param  jsdbr  = 1.3181e-07
.param  jsdgr  = 0
.param  jsdsr  = 2.2436e-14
.param  jsgbr  = 9e-06
.param  jsggr  = 4.1751e-11
.param  jsgsr  = 3.1654e-11
 

*
* variant parameters:
*--------------------
.param xl      = nmoshs_xl
.param xw      = nmoshs_xw
.param tox     = nmoshs_tox
.param vth     = nmoshs_vth0
.param nlx     = nmoshs_nlx
.param drdsw   = nmoshs_drdsw
.param dmu     = nmoshs_dmu

.param rshg    = nmoshs_rshg
.param rconpo  = nmoshs_rconpo


.param dcjb    = nmoshs_dcjb
.param dcjgate = nmoshs_dcjgate
.param dcjsw   = nmoshs_dcjsw
.param djsdbr  = nmoshs_djsdbr
.param djsdgr  = nmoshs_djsdgr
.param djsdsr  = nmoshs_djsdsr
.param djsgbr  = nmoshs_djsgbr
.param djsggr  = nmoshs_djsggr
.param djsgsr  = nmoshs_djsgsr
.param prwb    = nmoshs_prwb

.param dcfring = nmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.00e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,1.32e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,1.33))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.2241808e-06-xl} 
.param wlimit = {1e-06-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.94459e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.326605-(0.227-vth)/sqrt(phis)}
.param  vth0  =  {vth+dvth0_dev} 

.param  nch   =  {6.94459e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.326605*0.326605)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {145*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {5.07e-10*(2.35e-09/tox)}
.param  cgdl  =  {5.07e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {-1.29442e-08+(3e-08-xw)}


.param k3 = {-6.715*(2.35e-09/tox)}
.param dvt0 = 2.13851


.param  k3b   =  {1.9818951*(2.35e-09/tox)}
.param  lk3   =  {0.495*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketaexp = {valif((1.0e-6/le-1.0/0.2)/0.9161597 > 34, 34, (1.0e-6/le-1.0/0.2)/0.9161597)}
.param lketa    = {-0.0394231/(1.0+exp(lketaexp))} 




.param xgw    = {cons-coepo-coeact}
.param xgl    = {-xl}
.param lhead  = {nfing*l+(nfing-1)*(conw+2*conpo+(ncrsd-1)*(conw+cons))}
.param nchead = {ncrg*(1+trunc(max(0,(lhead-conw-2*coepo))/(conw+cons)))}
.param rgeltd = {rshg*(xgw+(w/nfing+xw)/(3*ngcon))/(ngcon*(l-xgl)*nfing)}
.param rgcon  = {rconpo/(nchead*ngcon)}

RG G Gi {(rgeltd+rgcon)/number}
M1 D Gi S B NHSRG w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL NHSRG nmos
+ level=53
+ version=3.2           nqsmod=0              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=2              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.46404e-08      
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=2.23e-08         
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-9e-09            
+ dwb=0                 nch=nch               ngate=3e+20           
+ xj=1e-07              u0=u0eff              vth0=vth0eff          
+ k1=k1                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               pnlx=0                dvt0=dvt0             
+ dvt1=0.887934         dvt2=-0.018588        dvt0w=0.25            
+ dvt1w=1.45541e+06     dvt2w=-0.000282805    ua=-6.26635e-10       
+ ub=1.64683e-18        uc=-1.66223e-10       delta=0.00374596      
+ rdsw=rdsweff          prwg=0                prwb=prwb             
+ wr=1                  vsat=95356.1          a0=1.65               
+ la0=-0.122025         keta=-0.0120587       lketa=lketa           
+ ags=0.646592          a1=0                  a2=1                  
+ b0=0                  b1=0                  alpha0=0              
+ beta0=12.0493         lbeta0=-0.220056      voff=-0.098851        
+ lvoff=-0.0028         nfactor=0.94337       cdsc=0.0188           
+ cdscb=0               cdscd=0               cit=0                 
+ eta0=0.018865         etab=-0.00360131      dsub=0.128834         
+ drout=1.1             pclm=0.67609          pdiblc1=0.00444391    
+ pdiblc2=0.00238149    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.00710791       ute=-1.64             
+ at=43500              ua1=8.37223e-10       ub1=-2.00845e-18      
+ uc1=1.34214e-10       kt1=-0.235            kt1l=9.10674e-10      
+ kt2=-0.035027         prt=-50               cgsl=cgsl             
+ cgdl=cgdl             ckappa=4.78743        cf=cf                 
+ clc=1e-07             cle=0.6               dlc=2.07e-08          
+ dwc=2.23e-08          noff=2.1              voffcv=-0.09          
+ alpha1=0.111727       acde=0.6              moin=6                
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=5e+09              
+ noia=5e+20            noib=200000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.52286          vdsr=0.42697          
+ vdgr=1                pb=0.20582            ps=0.44445            
+ pg=0.6358              nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends ENHSGP_BS3JURG


*----------------------------------------------------------------------
* Family nmoshs Model ENHSGP_BS3NQSJU bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt ENHSGP_BS3NQSJU D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+nmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fd*(1.5e-07+nmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fs*(1.5e-07+nmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fd*(wfing+2*1.5e-07+nmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fs*(wfing+2*1.5e-07+nmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 297.991
.param u0s     = 239.72
.param lint    = 1.46404e-08
.param lmin    = 0.13e-6
.param dwu0    = -0.0721
.param wint    = 2.23e-08


*  
.param  cjbr   = 0.00085803
.param  cjgr   = 2.921e-10
.param  cjsr   = 6.7342e-11
.param  jsdbr  = 1.3181e-07
.param  jsdgr  = 0
.param  jsdsr  = 2.2436e-14
.param  jsgbr  = 9e-06
.param  jsggr  = 4.1751e-11
.param  jsgsr  = 3.1654e-11
 

*
* variant parameters:
*--------------------
.param xl      = nmoshs_xl
.param xw      = nmoshs_xw
.param tox     = nmoshs_tox
.param vth     = nmoshs_vth0
.param nlx     = nmoshs_nlx
.param drdsw   = nmoshs_drdsw
.param dmu     = nmoshs_dmu


.param dcjb    = nmoshs_dcjb
.param dcjgate = nmoshs_dcjgate
.param dcjsw   = nmoshs_dcjsw
.param djsdbr  = nmoshs_djsdbr
.param djsdgr  = nmoshs_djsdgr
.param djsdsr  = nmoshs_djsdsr
.param djsgbr  = nmoshs_djsgbr
.param djsggr  = nmoshs_djsggr
.param djsgsr  = nmoshs_djsgsr
.param prwb    = nmoshs_prwb

.param dcfring = nmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.00e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,1.32e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,1.33))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.2241808e-06-xl} 
.param wlimit = {1e-06-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.94459e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.326605-(0.227-vth)/sqrt(phis)}
.param  vth0  =  {vth+dvth0_dev} 

.param  nch   =  {6.94459e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.326605*0.326605)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {145*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {5.07e-10*(2.35e-09/tox)}
.param  cgdl  =  {5.07e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {-1.29442e-08+(3e-08-xw)}


.param k3 = {-6.715*(2.35e-09/tox)}
.param dvt0 = 2.13851


.param  k3b   =  {1.9818951*(2.35e-09/tox)}
.param  lk3   =  {0.495*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketaexp = {valif((1.0e-6/le-1.0/0.2)/0.9161597 > 34, 34, (1.0e-6/le-1.0/0.2)/0.9161597)}
.param lketa    = {-0.0394231/(1.0+exp(lketaexp))} 




M1 D G S B NHSNQS w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL NHSNQS nmos
+ level=53
+ version=3.2           nqsmod=1              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=2              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.46404e-08      
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=2.23e-08         
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-9e-09            
+ dwb=0                 nch=nch               ngate=3e+20           
+ xj=1e-07              u0=u0eff              vth0=vth0eff          
+ k1=k1                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               pnlx=0                dvt0=dvt0             
+ dvt1=0.887934         dvt2=-0.018588        dvt0w=0.25            
+ dvt1w=1.45541e+06     dvt2w=-0.000282805    ua=-6.26635e-10       
+ ub=1.64683e-18        uc=-1.66223e-10       delta=0.00374596      
+ rdsw=rdsweff          prwg=0                prwb=prwb             
+ wr=1                  vsat=95356.1          a0=1.65               
+ la0=-0.122025         keta=-0.0120587       lketa=lketa           
+ ags=0.646592          a1=0                  a2=1                  
+ b0=0                  b1=0                  alpha0=0              
+ beta0=12.0493         lbeta0=-0.220056      voff=-0.098851        
+ lvoff=-0.0028         nfactor=0.94337       cdsc=0.0188           
+ cdscb=0               cdscd=0               cit=0                 
+ eta0=0.018865         etab=-0.00360131      dsub=0.128834         
+ drout=1.1             pclm=0.67609          pdiblc1=0.00444391    
+ pdiblc2=0.00238149    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.00710791       ute=-1.64             
+ at=43500              ua1=8.37223e-10       ub1=-2.00845e-18      
+ uc1=1.34214e-10       kt1=-0.235            kt1l=9.10674e-10      
+ kt2=-0.035027         prt=-50               cgsl=cgsl             
+ cgdl=cgdl             ckappa=4.78743        cf=cf                 
+ clc=1e-07             cle=0.6               dlc=2.07e-08          
+ dwc=2.23e-08          noff=2.1              voffcv=-0.09          
+ alpha1=0.111727       acde=0.6              moin=6                
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=5e+09              
+ noia=5e+20            noib=200000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.52286          vdsr=0.42697          
+ vdgr=1                pb=0.20582            ps=0.44445            
+ pg=0.6358              nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends ENHSGP_BS3NQSJU


*----------------------------------------------------------------------
* Family nmoshs Model ENHSGP_BS3NQSJURG bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt ENHSGP_BS3NQSJURG D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+nmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fd*(1.5e-07+nmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-nmoshs_xl)/2+fs*(1.5e-07+nmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fd*(wfing+2*1.5e-07+nmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-nmoshs_xl)/2+fs*(wfing+2*1.5e-07+nmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 297.991
.param u0s     = 239.72
.param lint    = 1.46404e-08
.param lmin    = 0.13e-6
.param dwu0    = -0.0721
.param wint    = 2.23e-08

.param coepo   = 0.07e-6
.param ncrg    = 2


*  
.param  cjbr   = 0.00085803
.param  cjgr   = 2.921e-10
.param  cjsr   = 6.7342e-11
.param  jsdbr  = 1.3181e-07
.param  jsdgr  = 0
.param  jsdsr  = 2.2436e-14
.param  jsgbr  = 9e-06
.param  jsggr  = 4.1751e-11
.param  jsgsr  = 3.1654e-11
 

*
* variant parameters:
*--------------------
.param xl      = nmoshs_xl
.param xw      = nmoshs_xw
.param tox     = nmoshs_tox
.param vth     = nmoshs_vth0
.param nlx     = nmoshs_nlx
.param drdsw   = nmoshs_drdsw
.param dmu     = nmoshs_dmu

.param rshg    = nmoshs_rshg
.param rconpo  = nmoshs_rconpo


.param dcjb    = nmoshs_dcjb
.param dcjgate = nmoshs_dcjgate
.param dcjsw   = nmoshs_dcjsw
.param djsdbr  = nmoshs_djsdbr
.param djsdgr  = nmoshs_djsdgr
.param djsdsr  = nmoshs_djsdsr
.param djsgbr  = nmoshs_djsgbr
.param djsggr  = nmoshs_djsggr
.param djsgsr  = nmoshs_djsgsr
.param prwb    = nmoshs_prwb

.param dcfring = nmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.00e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.32e-8,1.32e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.33,1.33))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.2241808e-06-xl} 
.param wlimit = {1e-06-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.94459e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.326605-(0.227-vth)/sqrt(phis)}
.param  vth0  =  {vth+dvth0_dev} 

.param  nch   =  {6.94459e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.326605*0.326605)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {145*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {5.07e-10*(2.35e-09/tox)}
.param  cgdl  =  {5.07e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {-1.29442e-08+(3e-08-xw)}


.param k3 = {-6.715*(2.35e-09/tox)}
.param dvt0 = 2.13851


.param  k3b   =  {1.9818951*(2.35e-09/tox)}
.param  lk3   =  {0.495*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketaexp = {valif((1.0e-6/le-1.0/0.2)/0.9161597 > 34, 34, (1.0e-6/le-1.0/0.2)/0.9161597)}
.param lketa    = {-0.0394231/(1.0+exp(lketaexp))} 




.param xgw    = {cons-coepo-coeact}
.param xgl    = {-xl}
.param lhead  = {nfing*l+(nfing-1)*(conw+2*conpo+(ncrsd-1)*(conw+cons))}
.param nchead = {ncrg*(1+trunc(max(0,(lhead-conw-2*coepo))/(conw+cons)))}
.param rgeltd = {rshg*(xgw+(w/nfing+xw)/(3*ngcon))/(ngcon*(l-xgl)*nfing)}
.param rgcon  = {rconpo/(nchead*ngcon)}

RG G Gi {(rgeltd+rgcon)/number}
M1 D Gi S B NHSNQSRG w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL NHSNQSRG nmos
+ level=53
+ version=3.2           nqsmod=1              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=2              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.46404e-08      
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=2.23e-08         
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-9e-09            
+ dwb=0                 nch=nch               ngate=3e+20           
+ xj=1e-07              u0=u0eff              vth0=vth0eff          
+ k1=k1                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               pnlx=0                dvt0=dvt0             
+ dvt1=0.887934         dvt2=-0.018588        dvt0w=0.25            
+ dvt1w=1.45541e+06     dvt2w=-0.000282805    ua=-6.26635e-10       
+ ub=1.64683e-18        uc=-1.66223e-10       delta=0.00374596      
+ rdsw=rdsweff          prwg=0                prwb=prwb             
+ wr=1                  vsat=95356.1          a0=1.65               
+ la0=-0.122025         keta=-0.0120587       lketa=lketa           
+ ags=0.646592          a1=0                  a2=1                  
+ b0=0                  b1=0                  alpha0=0              
+ beta0=12.0493         lbeta0=-0.220056      voff=-0.098851        
+ lvoff=-0.0028         nfactor=0.94337       cdsc=0.0188           
+ cdscb=0               cdscd=0               cit=0                 
+ eta0=0.018865         etab=-0.00360131      dsub=0.128834         
+ drout=1.1             pclm=0.67609          pdiblc1=0.00444391    
+ pdiblc2=0.00238149    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.00710791       ute=-1.64             
+ at=43500              ua1=8.37223e-10       ub1=-2.00845e-18      
+ uc1=1.34214e-10       kt1=-0.235            kt1l=9.10674e-10      
+ kt2=-0.035027         prt=-50               cgsl=cgsl             
+ cgdl=cgdl             ckappa=4.78743        cf=cf                 
+ clc=1e-07             cle=0.6               dlc=2.07e-08          
+ dwc=2.23e-08          noff=2.1              voffcv=-0.09          
+ alpha1=0.111727       acde=0.6              moin=6                
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=5e+09              
+ noia=5e+20            noib=200000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.52286          vdsr=0.42697          
+ vdgr=1                pb=0.20582            ps=0.44445            
+ pg=0.6358              nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends ENHSGP_BS3NQSJURG


*----------------------------------------------------------------------
* Family pmoshs Model EPHSGP_BS3JU bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt EPHSGP_BS3JU D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+pmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fd*(1.5e-07+pmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fs*(1.5e-07+pmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fd*(wfing+2*1.5e-07+pmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fs*(wfing+2*1.5e-07+pmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 51.9139
.param u0s     = 60.2573
.param lint    = 1.5899e-08
.param lmin    = 0.13e-6
.param dwu0    = 0.16445
.param wint    = 1.8455e-08


*  
.param  cjbr   = 0.00090721
.param  cjgr   = 2.9337e-10
.param  cjsr   = 3.9129e-11
.param  jsdbr  = 8.5932e-08
.param  jsdgr  = 0
.param  jsdsr  = 5.2166e-15
.param  jsgbr  = 1.6294e-06
.param  jsggr  = 2.8654e-11
.param  jsgsr  = 3.2153e-11
 

*
* variant parameters:
*--------------------
.param xl      = pmoshs_xl
.param xw      = pmoshs_xw
.param tox     = pmoshs_tox
.param vth     = pmoshs_vth0
.param nlx     = pmoshs_nlx
.param drdsw   = pmoshs_drdsw
.param dmu     = pmoshs_dmu


.param dcjb    = pmoshs_dcjb
.param dcjgate = pmoshs_dcjgate
.param dcjsw   = pmoshs_dcjsw
.param djsdbr  = pmoshs_djsdbr
.param djsdgr  = pmoshs_djsdgr
.param djsdsr  = pmoshs_djsdsr
.param djsgbr  = pmoshs_djsgbr
.param djsggr  = pmoshs_djsggr
.param djsgsr  = pmoshs_djsgsr
.param prwb    = pmoshs_prwb

.param dcfring = pmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.50e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,1.22e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,1.09))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.545798e-06-xl} 
.param wlimit = {1.8744e-07-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.10062e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.338987+(-0.20825-vth)/sqrt(phis)}
.param  vth0  =  {vth-dvth0_dev} 

.param  nch   =  {6.10062e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.338987*0.338987)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {415.14*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {3.655e-10*(2.35e-09/tox)}
.param  cgdl  =  {3.655e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {4.9889e-08+(0-xw)}


.param k3 = {-1.7947*(2.35e-09/tox)}
.param dvt0 = 2.3286


.param  k3b   =  {3.9083*(2.35e-09/tox)}
.param  lk3   =  {0*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketa  = 0




M1 D G S B PHS w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL PHS pmos
+ level=53
+ version=3.2           nqsmod=0              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=1              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.5899e-08       
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=1.8455e-08       
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-2.0144e-08       
+ nch=nch               ngate=1.9872e+20      xj=1e-07              
+ u0=u0eff              vth0=vth0eff          k1=k1                 
+ pk1=0                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               dvt0=dvt0             dvt1=0.52738          
+ dvt2=0.049868         dvt0w=-0.1509         dvt1w=36665           
+ dvt2w=0.44367         ua=-8.2003e-10        pua=1.5e-11           
+ ub=1.6707e-18         uc=-1.3227e-10        delta=0.023487        
+ ldelta=0              rdsw=rdsweff          lrdsw=0               
+ prdsw=0               prwg=0                prwb=prwb             
+ wr=1                  vsat=156136           a0=1.6925             
+ la0=0                 keta=-0.066788        lketa=lketa           
+ ags=1.1642            a1=6.3403             a2=0.01               
+ b0=0                  pb0=0                 b1=0                  
+ alpha0=4.7564e-16     lalpha0=0             beta0=16.59           
+ lbeta0=-0.28619       voff=-0.101317        lvoff=-0.00174674     
+ nfactor=0.85819       lnfactor=0            cdsc=0.00754104       
+ cdscb=0               cdscd=0.0016          cit=0                 
+ eta0=0.010404         etab=-0.00274117      dsub=0.145242         
+ drout=0.61951         pclm=0.50185          pdiblc1=0.0066144     
+ pdiblc2=0.00136003    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.3416           ute=-0.9              
+ at=160000             ua1=1.0855e-09        ub1=-1.5182e-18       
+ uc1=8.403e-11         kt1=-0.23305          kt1l=-2.2241e-09      
+ kt2=-0.038112         prt=0.14224           cgsl=cgsl             
+ cgdl=cgdl             ckappa=3.02           cf=cf                 
+ clc=1e-07             cle=0.6               dlc=1.5899e-08        
+ dwc=1.846e-08         noff=1.9653           voffcv=-0.0060629     
+ alpha1=0.023884       acde=0.401            moin=5.005            
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=501000             
+ noia=7.05e+18         noib=700000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.62226          vdsr=1.2279           
+ vdgr=1.5037           pb=0.28121            ps=0.15               
+ pg=0.87916             nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends EPHSGP_BS3JU


*----------------------------------------------------------------------
* Family pmoshs Model EPHSGP_BS3JULEAK bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt EPHSGP_BS3JULEAK D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+pmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fd*(1.5e-07+pmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fs*(1.5e-07+pmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fd*(wfing+2*1.5e-07+pmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fs*(wfing+2*1.5e-07+pmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 51.9139
.param u0s     = 60.2573
.param lint    = 1.5899e-08
.param lmin    = 0.13e-6
.param dwu0    = 0.16445
.param wint    = 1.8455e-08


*  
.param  cjbr   = 0.00090721
.param  cjgr   = 2.9337e-10
.param  cjsr   = 3.9129e-11
.param  jsdbr  = 8.5932e-08
.param  jsdgr  = 0
.param  jsdsr  = 5.2166e-15
.param  jsgbr  = 1.6294e-06
.param  jsggr  = 2.8654e-11
.param  jsgsr  = 3.2153e-11
 

*
* variant parameters:
*--------------------
.param xl      = pmoshs_xl
.param xw      = pmoshs_xw
.param tox     = pmoshs_tox
.param vth     = pmoshs_vth0
.param nlx     = pmoshs_nlx
.param drdsw   = pmoshs_drdsw
.param dmu     = pmoshs_dmu


.param dcjb    = pmoshs_dcjb
.param dcjgate = pmoshs_dcjgate
.param dcjsw   = pmoshs_dcjsw
.param djsdbr  = pmoshs_djsdbr
.param djsdgr  = pmoshs_djsdgr
.param djsdsr  = pmoshs_djsdsr
.param djsgbr  = pmoshs_djsgbr
.param djsggr  = pmoshs_djsggr
.param djsgsr  = pmoshs_djsgsr
.param prwb    = pmoshs_prwb

.param dcfring = pmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.50e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,1.22e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,1.09))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.545798e-06-xl} 
.param wlimit = {1.8744e-07-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.10062e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.338987+(-0.20825-vth)/sqrt(phis)}
.param  vth0  =  {vth-dvth0_dev} 

.param  nch   =  {6.10062e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.338987*0.338987)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {415.14*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {3.655e-10*(2.35e-09/tox)}
.param  cgdl  =  {3.655e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {4.9889e-08+(0-xw)}


.param k3 = {-1.7947*(2.35e-09/tox)}
.param dvt0 = 2.3286


.param  k3b   =  {3.9083*(2.35e-09/tox)}
.param  lk3   =  {0*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketa  = 0



* Equations for Igate:
*--------------------


.param wpoly     = {number*(w+xw)}
.param lpoly     = {l+xl}
.param dvd    = -0.015
.param toxratio = {exp(38.5*log(2.1e-9/tox))}
.param bb     = {(8.40e6)*log(lpoly)*log(lpoly)+(1.74e8)*log(lpoly)+(-1.53e7)}
.param vara1  = {toxratio*((3.87e-14)*lpoly*lpoly+(1.20e-15)*lpoly+(7.84e-23))}
.param bbn    = {(0)*log(lpoly)*log(lpoly)+(0)*log(lpoly)+(-1.76e8)}
.param vara1n = {toxratio*((0)*lpoly*lpoly+(0)*lpoly+(8.88e-23))}

gidg d1 g value={(vara1*wpoly*(abs(v(d1,g))+v(d1,g))/2.0*v(d1,g)*exp(-bb*tox*log(1e-18+abs(v(d1,g))))/(tox*tox)+1e-18*v(d1,g))
+ + (vara1n*wpoly*(abs(v(d1,g))-v(d1,g))/2.0*v(d1,g)*exp(-bbn*tox*log(1e-18+abs(v(d1,g))))/(tox*tox)+1e-18*v(d1,g))}

eigd d1 d value={-dvd*(abs(v(d,s))-v(d,s))/2.0}

gisg s1 g value={(vara1*wpoly*(abs(v(s1,g))+v(s1,g))/2.0*v(s1,g)*exp(-bb*tox*log(1e-18+abs(v(s1,g))))/(tox*tox)+1e-18*v(s1,g))
+ + (vara1n*wpoly*(abs(v(s1,g))-v(s1,g))/2.0*v(s1,g)*exp(-bbn*tox*log(1e-18+abs(v(s1,g))))/(tox*tox)+1e-18*v(s1,g))}

eigs s1 s value={-dvd*(abs(v(s,d))-v(s,d))/2.0}




* Equations for GIDL:
*--------------------




M1 D G S B PHSLEAK w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL PHSLEAK pmos
+ level=53
+ version=3.2           nqsmod=0              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=1              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.5899e-08       
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=1.8455e-08       
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-2.0144e-08       
+ nch=nch               ngate=1.9872e+20      xj=1e-07              
+ u0=u0eff              vth0=vth0eff          k1=k1                 
+ pk1=0                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               dvt0=dvt0             dvt1=0.52738          
+ dvt2=0.049868         dvt0w=-0.1509         dvt1w=36665           
+ dvt2w=0.44367         ua=-8.2003e-10        pua=1.5e-11           
+ ub=1.6707e-18         uc=-1.3227e-10        delta=0.023487        
+ ldelta=0              rdsw=rdsweff          lrdsw=0               
+ prdsw=0               prwg=0                prwb=prwb             
+ wr=1                  vsat=156136           a0=1.6925             
+ la0=0                 keta=-0.066788        lketa=lketa           
+ ags=1.1642            a1=6.3403             a2=0.01               
+ b0=0                  pb0=0                 b1=0                  
+ alpha0=4.7564e-16     lalpha0=0             beta0=16.59           
+ lbeta0=-0.28619       voff=-0.101317        lvoff=-0.00174674     
+ nfactor=0.85819       lnfactor=0            cdsc=0.00754104       
+ cdscb=0               cdscd=0.0016          cit=0                 
+ eta0=0.010404         etab=-0.00274117      dsub=0.145242         
+ drout=0.61951         pclm=0.50185          pdiblc1=0.0066144     
+ pdiblc2=0.00136003    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.3416           ute=-0.9              
+ at=160000             ua1=1.0855e-09        ub1=-1.5182e-18       
+ uc1=8.403e-11         kt1=-0.23305          kt1l=-2.2241e-09      
+ kt2=-0.038112         prt=0.14224           cgsl=cgsl             
+ cgdl=cgdl             ckappa=3.02           cf=cf                 
+ clc=1e-07             cle=0.6               dlc=1.5899e-08        
+ dwc=1.846e-08         noff=1.9653           voffcv=-0.0060629     
+ alpha1=0.023884       acde=0.401            moin=5.005            
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=501000             
+ noia=7.05e+18         noib=700000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.62226          vdsr=1.2279           
+ vdgr=1.5037           pb=0.28121            ps=0.15               
+ pg=0.87916             nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends EPHSGP_BS3JULEAK


*----------------------------------------------------------------------
* Family pmoshs Model EPHSGP_BS3JURG bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt EPHSGP_BS3JURG D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+pmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fd*(1.5e-07+pmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fs*(1.5e-07+pmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fd*(wfing+2*1.5e-07+pmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fs*(wfing+2*1.5e-07+pmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 51.9139
.param u0s     = 60.2573
.param lint    = 1.5899e-08
.param lmin    = 0.13e-6
.param dwu0    = 0.16445
.param wint    = 1.8455e-08

.param coepo   = 0.07e-6
.param ncrg    = 2


*  
.param  cjbr   = 0.00090721
.param  cjgr   = 2.9337e-10
.param  cjsr   = 3.9129e-11
.param  jsdbr  = 8.5932e-08
.param  jsdgr  = 0
.param  jsdsr  = 5.2166e-15
.param  jsgbr  = 1.6294e-06
.param  jsggr  = 2.8654e-11
.param  jsgsr  = 3.2153e-11
 

*
* variant parameters:
*--------------------
.param xl      = pmoshs_xl
.param xw      = pmoshs_xw
.param tox     = pmoshs_tox
.param vth     = pmoshs_vth0
.param nlx     = pmoshs_nlx
.param drdsw   = pmoshs_drdsw
.param dmu     = pmoshs_dmu

.param rshg    = pmoshs_rshg
.param rconpo  = pmoshs_rconpo


.param dcjb    = pmoshs_dcjb
.param dcjgate = pmoshs_dcjgate
.param dcjsw   = pmoshs_dcjsw
.param djsdbr  = pmoshs_djsdbr
.param djsdgr  = pmoshs_djsdgr
.param djsdsr  = pmoshs_djsdsr
.param djsgbr  = pmoshs_djsgbr
.param djsggr  = pmoshs_djsggr
.param djsgsr  = pmoshs_djsgsr
.param prwb    = pmoshs_prwb

.param dcfring = pmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.50e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,1.22e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,1.09))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.545798e-06-xl} 
.param wlimit = {1.8744e-07-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.10062e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.338987+(-0.20825-vth)/sqrt(phis)}
.param  vth0  =  {vth-dvth0_dev} 

.param  nch   =  {6.10062e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.338987*0.338987)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {415.14*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {3.655e-10*(2.35e-09/tox)}
.param  cgdl  =  {3.655e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {4.9889e-08+(0-xw)}


.param k3 = {-1.7947*(2.35e-09/tox)}
.param dvt0 = 2.3286


.param  k3b   =  {3.9083*(2.35e-09/tox)}
.param  lk3   =  {0*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketa  = 0




.param xgw    = {cons-coepo-coeact}
.param xgl    = {-xl}
.param lhead  = {nfing*l+(nfing-1)*(conw+2*conpo+(ncrsd-1)*(conw+cons))}
.param nchead = {ncrg*(1+trunc(max(0,(lhead-conw-2*coepo))/(conw+cons)))}
.param rgeltd = {rshg*(xgw+(w/nfing+xw)/(3*ngcon))/(ngcon*(l-xgl)*nfing)}
.param rgcon  = {rconpo/(nchead*ngcon)}

RG G Gi {(rgeltd+rgcon)/number}
M1 D Gi S B PHSRG w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL PHSRG pmos
+ level=53
+ version=3.2           nqsmod=0              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=1              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.5899e-08       
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=1.8455e-08       
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-2.0144e-08       
+ nch=nch               ngate=1.9872e+20      xj=1e-07              
+ u0=u0eff              vth0=vth0eff          k1=k1                 
+ pk1=0                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               dvt0=dvt0             dvt1=0.52738          
+ dvt2=0.049868         dvt0w=-0.1509         dvt1w=36665           
+ dvt2w=0.44367         ua=-8.2003e-10        pua=1.5e-11           
+ ub=1.6707e-18         uc=-1.3227e-10        delta=0.023487        
+ ldelta=0              rdsw=rdsweff          lrdsw=0               
+ prdsw=0               prwg=0                prwb=prwb             
+ wr=1                  vsat=156136           a0=1.6925             
+ la0=0                 keta=-0.066788        lketa=lketa           
+ ags=1.1642            a1=6.3403             a2=0.01               
+ b0=0                  pb0=0                 b1=0                  
+ alpha0=4.7564e-16     lalpha0=0             beta0=16.59           
+ lbeta0=-0.28619       voff=-0.101317        lvoff=-0.00174674     
+ nfactor=0.85819       lnfactor=0            cdsc=0.00754104       
+ cdscb=0               cdscd=0.0016          cit=0                 
+ eta0=0.010404         etab=-0.00274117      dsub=0.145242         
+ drout=0.61951         pclm=0.50185          pdiblc1=0.0066144     
+ pdiblc2=0.00136003    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.3416           ute=-0.9              
+ at=160000             ua1=1.0855e-09        ub1=-1.5182e-18       
+ uc1=8.403e-11         kt1=-0.23305          kt1l=-2.2241e-09      
+ kt2=-0.038112         prt=0.14224           cgsl=cgsl             
+ cgdl=cgdl             ckappa=3.02           cf=cf                 
+ clc=1e-07             cle=0.6               dlc=1.5899e-08        
+ dwc=1.846e-08         noff=1.9653           voffcv=-0.0060629     
+ alpha1=0.023884       acde=0.401            moin=5.005            
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=501000             
+ noia=7.05e+18         noib=700000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.62226          vdsr=1.2279           
+ vdgr=1.5037           pb=0.28121            ps=0.15               
+ pg=0.87916             nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends EPHSGP_BS3JURG


*----------------------------------------------------------------------
* Family pmoshs Model EPHSGP_BS3NQSJU bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt EPHSGP_BS3NQSJU D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+pmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fd*(1.5e-07+pmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fs*(1.5e-07+pmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fd*(wfing+2*1.5e-07+pmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fs*(wfing+2*1.5e-07+pmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 51.9139
.param u0s     = 60.2573
.param lint    = 1.5899e-08
.param lmin    = 0.13e-6
.param dwu0    = 0.16445
.param wint    = 1.8455e-08


*  
.param  cjbr   = 0.00090721
.param  cjgr   = 2.9337e-10
.param  cjsr   = 3.9129e-11
.param  jsdbr  = 8.5932e-08
.param  jsdgr  = 0
.param  jsdsr  = 5.2166e-15
.param  jsgbr  = 1.6294e-06
.param  jsggr  = 2.8654e-11
.param  jsgsr  = 3.2153e-11
 

*
* variant parameters:
*--------------------
.param xl      = pmoshs_xl
.param xw      = pmoshs_xw
.param tox     = pmoshs_tox
.param vth     = pmoshs_vth0
.param nlx     = pmoshs_nlx
.param drdsw   = pmoshs_drdsw
.param dmu     = pmoshs_dmu


.param dcjb    = pmoshs_dcjb
.param dcjgate = pmoshs_dcjgate
.param dcjsw   = pmoshs_dcjsw
.param djsdbr  = pmoshs_djsdbr
.param djsdgr  = pmoshs_djsdgr
.param djsdsr  = pmoshs_djsdsr
.param djsgbr  = pmoshs_djsgbr
.param djsggr  = pmoshs_djsggr
.param djsgsr  = pmoshs_djsgsr
.param prwb    = pmoshs_prwb

.param dcfring = pmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.50e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,1.22e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,1.09))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.545798e-06-xl} 
.param wlimit = {1.8744e-07-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.10062e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.338987+(-0.20825-vth)/sqrt(phis)}
.param  vth0  =  {vth-dvth0_dev} 

.param  nch   =  {6.10062e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.338987*0.338987)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {415.14*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {3.655e-10*(2.35e-09/tox)}
.param  cgdl  =  {3.655e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {4.9889e-08+(0-xw)}


.param k3 = {-1.7947*(2.35e-09/tox)}
.param dvt0 = 2.3286


.param  k3b   =  {3.9083*(2.35e-09/tox)}
.param  lk3   =  {0*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketa  = 0




M1 D G S B PHSNQS w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL PHSNQS pmos
+ level=53
+ version=3.2           nqsmod=1              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=1              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.5899e-08       
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=1.8455e-08       
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-2.0144e-08       
+ nch=nch               ngate=1.9872e+20      xj=1e-07              
+ u0=u0eff              vth0=vth0eff          k1=k1                 
+ pk1=0                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               dvt0=dvt0             dvt1=0.52738          
+ dvt2=0.049868         dvt0w=-0.1509         dvt1w=36665           
+ dvt2w=0.44367         ua=-8.2003e-10        pua=1.5e-11           
+ ub=1.6707e-18         uc=-1.3227e-10        delta=0.023487        
+ ldelta=0              rdsw=rdsweff          lrdsw=0               
+ prdsw=0               prwg=0                prwb=prwb             
+ wr=1                  vsat=156136           a0=1.6925             
+ la0=0                 keta=-0.066788        lketa=lketa           
+ ags=1.1642            a1=6.3403             a2=0.01               
+ b0=0                  pb0=0                 b1=0                  
+ alpha0=4.7564e-16     lalpha0=0             beta0=16.59           
+ lbeta0=-0.28619       voff=-0.101317        lvoff=-0.00174674     
+ nfactor=0.85819       lnfactor=0            cdsc=0.00754104       
+ cdscb=0               cdscd=0.0016          cit=0                 
+ eta0=0.010404         etab=-0.00274117      dsub=0.145242         
+ drout=0.61951         pclm=0.50185          pdiblc1=0.0066144     
+ pdiblc2=0.00136003    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.3416           ute=-0.9              
+ at=160000             ua1=1.0855e-09        ub1=-1.5182e-18       
+ uc1=8.403e-11         kt1=-0.23305          kt1l=-2.2241e-09      
+ kt2=-0.038112         prt=0.14224           cgsl=cgsl             
+ cgdl=cgdl             ckappa=3.02           cf=cf                 
+ clc=1e-07             cle=0.6               dlc=1.5899e-08        
+ dwc=1.846e-08         noff=1.9653           voffcv=-0.0060629     
+ alpha1=0.023884       acde=0.401            moin=5.005            
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=501000             
+ noia=7.05e+18         noib=700000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.62226          vdsr=1.2279           
+ vdgr=1.5037           pb=0.28121            ps=0.15               
+ pg=0.87916             nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends EPHSGP_BS3NQSJU


*----------------------------------------------------------------------
* Family pmoshs Model EPHSGP_BS3NQSJURG bsim3 typ mismatch
* Maturity : tentative
*----------------------------------------------------------------------
.subckt EPHSGP_BS3NQSJURG D G S B
+       param: w=0.15e-6 l=0.13e-6 nfing=1 ncrsd=1 mismatch=1 srcefirst=1
+       wfing={w/nfing+pmoshs_xw}
+       fd={srcefirst*(nfing-2*trunc(nfing/2))+(1-srcefirst)*(2*trunc(1+nfing/2)-nfing)}
+       fs={2-fd}
+       ad={wfing*((nfing-fd)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fd*(1.5e-07+pmoshs_xw/2))}
+       as={wfing*((nfing-fs)*(ncrsd-1)*(0.16e-6+0.18e-6)/4+nfing*(3.8e-07-pmoshs_xl)/2+fs*(1.5e-07+pmoshs_xw/2))}
+       pd={(nfing-fd)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fd*(wfing+2*1.5e-07+pmoshs_xw)}
+       ps={(nfing-fs)/2*(ncrsd-1)*(0.16e-6+0.18e-6)+nfing*2*(3.8e-07-pmoshs_xl)/2+fs*(wfing+2*1.5e-07+pmoshs_xw)}
+       po2act=-1
+       number=1 nrd=0 nrs=0
+       ngcon=1


*
* invariant parameters:
*----------------------
.param conw    = 0.16e-6
.param cons    = 0.18e-6
.param coeact  = 0.07e-6
.param conpo   = 0.11e-6

.param u0_typ  = 51.9139
.param u0s     = 60.2573
.param lint    = 1.5899e-08
.param lmin    = 0.13e-6
.param dwu0    = 0.16445
.param wint    = 1.8455e-08

.param coepo   = 0.07e-6
.param ncrg    = 2


*  
.param  cjbr   = 0.00090721
.param  cjgr   = 2.9337e-10
.param  cjsr   = 3.9129e-11
.param  jsdbr  = 8.5932e-08
.param  jsdgr  = 0
.param  jsdsr  = 5.2166e-15
.param  jsgbr  = 1.6294e-06
.param  jsggr  = 2.8654e-11
.param  jsgsr  = 3.2153e-11
 

*
* variant parameters:
*--------------------
.param xl      = pmoshs_xl
.param xw      = pmoshs_xw
.param tox     = pmoshs_tox
.param vth     = pmoshs_vth0
.param nlx     = pmoshs_nlx
.param drdsw   = pmoshs_drdsw
.param dmu     = pmoshs_dmu

.param rshg    = pmoshs_rshg
.param rconpo  = pmoshs_rconpo


.param dcjb    = pmoshs_dcjb
.param dcjgate = pmoshs_dcjgate
.param dcjsw   = pmoshs_dcjsw
.param djsdbr  = pmoshs_djsdbr
.param djsdgr  = pmoshs_djsdgr
.param djsdsr  = pmoshs_djsdsr
.param djsgbr  = pmoshs_djsgbr
.param djsggr  = pmoshs_djsggr
.param djsgsr  = pmoshs_djsgsr
.param prwb    = pmoshs_prwb

.param dcfring = pmoshs_dcfring
* effective length and width:
*----------------------------
.param we      = {(w/nfing+xw-2*wint)}
.param le      = {l+xl-2.0*lint}
* Equations for mismatch deviations:
*-----------------------------------
.PARAM dvth0_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),4.50e-9,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),5.50e-9,4.50e-9))
.PARAM dvth0_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dvth0_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.0,1.00))
.PARAM dvth0_sig = {((dvth0_alpha/sqrt(W*L))+dvth0_beta)*dvth0_fudge/sqrt(2.0*number)}
.PARAM dvth0_dev = 0.0 DEV/gauss = {dvth0_sig*MOSHS_DEV*mismatch}
.PARAM dbeta_alpha = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.22e-8,1.22e-8))
.PARAM dbeta_beta  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),0.0,0.0))
.PARAM dbeta_fudge  = valif((w>0.0)&&(w<0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,valif((w>0.6e-6)&&(l>0.0)&&(l<0.24e-6),1.09,1.09))
.PARAM dbeta_sig = {((dbeta_alpha/sqrt(W*L))+dbeta_beta)*dbeta_fudge/sqrt(2.0*number)}
.PARAM dbeta_dev = 0.0 DEV/gauss = {dbeta_sig*MOSHS_DEV*mismatch}

* Mobility model improvement:
*----------------------------
.param epsilon2 = 1e-18
.param llimit = {1.545798e-06-xl} 
.param wlimit = {1.8744e-07-xw} 

.param dwu = dwu0

.param mobility = {2.0/((1.0/u0_typ+1.0/u0s)+(llimit+xl
+ -2.0*lint-sqrt((llimit-l)*(llimit-l)+epsilon2))*(1.0/u0s-1.0/u0_typ)/le)
+ *(w/nfing-2.0*((wint-xw/2.0)*(1.0+2.0*(dwu))-(dwu)*wlimit
+ +(dwu)*0.5*(wlimit-w/nfing)+0.5*(dwu)*sqrt((wlimit-w/nfing)*(wlimit-w/nfing)+epsilon2)))/we}
.param u0 = {mobility*(1.0+dbeta_dev)*(1+dmu)} 
* Equations for Threshold voltage vth0 and body factor K1:
*---------------------------------------------------------
.param  eg0   =  {1.16-(7.02e-4*((273.15+27)^2)/(27+1381))}
.param  ni    =  {1.45e10*(((273.15+27)/300.15)^1.5)*exp(21.5565981-eg0/(1.725e-4*(273.15+27)))}
.param  phis  =  {1.725e-4*(273.15+27)*LOG(6.10062e+17/ni)}
.param  k2    =  {0*(tox/2.35e-09)}

.param  k1    =  {0.338987+(-0.20825-vth)/sqrt(phis)}
.param  vth0  =  {vth-dvth0_dev} 

.param  nch   =  {6.10062e+17*(2.35e-09*2.35e-09)/(tox*tox)*(k1*k1)/(0.338987*0.338987)}

* Equations for access resistance:
*---------------------------------

.param  rdsw  =  {415.14*(1+drdsw)}


.param vth0eff          = vth0
.param u0eff            = u0

.param rdsweff          = rdsw

* Equations for fringing capacitance:
*------------------------------------
.param  cf    =  dcfring
* Equations for overlap capacitance:
*-----------------------------------
.param  cgsl  =  {3.655e-10*(2.35e-09/tox)}
.param  cgdl  =  {3.655e-10*(2.35e-09/tox)}

* Equations for VT:
*-----------------

.param  w0    =  {4.9889e-08+(0-xw)}


.param k3 = {-1.7947*(2.35e-09/tox)}
.param dvt0 = 2.3286


.param  k3b   =  {3.9083*(2.35e-09/tox)}
.param  lk3   =  {0*((lmin+xl-(2*lint))*2.35e-09/(lmin+-2e-08-(2*lint))/tox)}


.param lketa  = 0




.param xgw    = {cons-coepo-coeact}
.param xgl    = {-xl}
.param lhead  = {nfing*l+(nfing-1)*(conw+2*conpo+(ncrsd-1)*(conw+cons))}
.param nchead = {ncrg*(1+trunc(max(0,(lhead-conw-2*coepo))/(conw+cons)))}
.param rgeltd = {rshg*(xgw+(w/nfing+xw)/(3*ngcon))/(ngcon*(l-xgl)*nfing)}
.param rgcon  = {rconpo/(nchead*ngcon)}

RG G Gi {(rgeltd+rgcon)/number}
M1 D Gi S B PHSNQSRG w={w/nfing} l=l as={as/nfing} ad={ad/nfing} ps={ps/nfing} pd={pd/nfing}
+          m={number*nfing} nrd={nrd*nfing} nrs={nrs*nfing}



.MODEL PHSNQSRG pmos
+ level=53
+ version=3.2           nqsmod=1              xw=xw                 
+ xl=xl                 wmin=1.5e-07          wmax=1                
+ lmin=1.3e-07          lmax=4e-07            mobmod=1              
+ capmod=3              noimod=2              binunit=1             
+ js=0                  jsw=0                 lint=1.5899e-08       
+ ll=0                  lln=1                 lw=0                  
+ lwn=1                 lwl=0                 wint=1.8455e-08       
+ wl=0                  wln=1                 ww=0                  
+ wwn=1                 wwl=0                 tnom=27               
+ tox=tox               cj=0                  mj=0.33               
+ cjsw=0                mjsw=0.5              cjswg=0               
+ mjswg=0.5             cgso=0                cgdo=0                
+ cgbo=1e-12            xpart=0               dwg=-2.0144e-08       
+ nch=nch               ngate=1.9872e+20      xj=1e-07              
+ u0=u0eff              vth0=vth0eff          k1=k1                 
+ pk1=0                 k2=k2                 k3=k3                 
+ lk3=lk3               k3b=k3b               w0=w0                 
+ nlx=nlx               dvt0=dvt0             dvt1=0.52738          
+ dvt2=0.049868         dvt0w=-0.1509         dvt1w=36665           
+ dvt2w=0.44367         ua=-8.2003e-10        pua=1.5e-11           
+ ub=1.6707e-18         uc=-1.3227e-10        delta=0.023487        
+ ldelta=0              rdsw=rdsweff          lrdsw=0               
+ prdsw=0               prwg=0                prwb=prwb             
+ wr=1                  vsat=156136           a0=1.6925             
+ la0=0                 keta=-0.066788        lketa=lketa           
+ ags=1.1642            a1=6.3403             a2=0.01               
+ b0=0                  pb0=0                 b1=0                  
+ alpha0=4.7564e-16     lalpha0=0             beta0=16.59           
+ lbeta0=-0.28619       voff=-0.101317        lvoff=-0.00174674     
+ nfactor=0.85819       lnfactor=0            cdsc=0.00754104       
+ cdscb=0               cdscd=0.0016          cit=0                 
+ eta0=0.010404         etab=-0.00274117      dsub=0.145242         
+ drout=0.61951         pclm=0.50185          pdiblc1=0.0066144     
+ pdiblc2=0.00136003    pdiblcb=0             pscbe1=8e+08          
+ pscbe2=1e-05          pvag=0.3416           ute=-0.9              
+ at=160000             ua1=1.0855e-09        ub1=-1.5182e-18       
+ uc1=8.403e-11         kt1=-0.23305          kt1l=-2.2241e-09      
+ kt2=-0.038112         prt=0.14224           cgsl=cgsl             
+ cgdl=cgdl             ckappa=3.02           cf=cf                 
+ clc=1e-07             cle=0.6               dlc=1.5899e-08        
+ dwc=1.846e-08         noff=1.9653           voffcv=-0.0060629     
+ alpha1=0.023884       acde=0.401            moin=5.005            
+ llc=0                 lwc=0                 lwlc=0                
+ wlc=0                 wwc=0                 wwlc=0                
+ elm=5                 ef=1                  em=501000             
+ noia=7.05e+18         noib=700000           noic=0
*  
* -- JUNCAP Electrical Parameters for S/D regions  (Simulator specific)
+ vr=0                  cjbr={cjbr*(1+dcjb)}  cjsr={cjsr*(1+dcjsw)} 
+ cjgr={cjgr*(1+dcjgate)}  jsdbr={jsdbr*10^djsdbr} 
+ jsdsr={jsdsr*10^djsdsr} jsdgr={jsdgr*10^djsdgr} 
+ jsgbr={jsgbr*10^djsgbr} jsgsr={jsgsr*10^djsgsr} 
+ jsggr={jsggr*10^djsggr}  vdbr=0.62226          vdsr=1.2279           
+ vdgr=1.5037           pb=0.28121            ps=0.15               
+ pg=0.87916             nbj=0.97              nsj=0.93              
+ ngj=1
+ 
+ trdio9=27             diolev=9              dcaplev=0             
+ rlev=1                alev=3
 

* + 
.ends EPHSGP_BS3NQSJURG

.endl moshs_MODEL

